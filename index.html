<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Gender-conscious routing along streets named after women rather than men.">
<title>Gender-Conscious Routing Along Streets Named After Women Rather Than Men • genderconsciousrouting</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Gender-Conscious Routing Along Streets Named After Women Rather Than Men">
<meta property="og:description" content="Gender-conscious routing along streets named after women rather than men.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">genderconsciousrouting</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.2.008</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/gender-encoding.html">Gender Encoding</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mpadge/gender-conscious-routing/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="gender-conscious-routing">gender conscious routing<a class="anchor" aria-label="anchor" href="#gender-conscious-routing"></a>
</h1></div>
<p>Routing along streets named after women rather than men.</p>
<div class="section level2">
<h2 id="a-note-on-gender">A note on gender<a class="anchor" aria-label="anchor" href="#a-note-on-gender"></a>
</h2>
<p>Where possible, gender is identified through wikidata entries, which accommodate values of female, male, intersex, transgender female, and transgender male. Street names which are not associated in Open Street Map with wikidata entries are assigned genders using an internally-bundled library which presumes that gender is binary. Which it is not. This package and its developers neither endorse nor encourage viewing gender in binary terms. The library nevertheless allows gender associations in a very wide variety of languages, far more than any other equivalent library, and so allows the functionality of this package to be applied to far greater regions of the world that would other, non-binary alternatives. See the vignette for further detail on the gender encoding system used here.</p>
<hr>
</div>
<div class="section level2">
<h2 id="generating-gender-conscious-routes">Generating gender-conscious routes<a class="anchor" aria-label="anchor" href="#generating-gender-conscious-routes"></a>
</h2>
<p>The function <code><a href="reference/conscious_route.html">conscious_route()</a></code> calculates routes which preferentially traverse streets named after women. Usage requires downloading a street network, the simplest way of which is to use <a href="https://github.com/atfutures/dodgr" class="external-link">the <code>dodgr</code> package</a>. It is good practice to save networks locally, to avoid having to repeat calls to the Open Street Map servers which deliver the data.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">city</span> <span class="op">&lt;-</span> <span class="st">"Aachen Germany"</span></span>
<span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu">dodgr</span><span class="fu">::</span><span class="fu"><a href="https://UrbanAnalyst.github.io/dodgr/reference/dodgr_streetnet_sc.html" class="external-link">dodgr_streetnet_sc</a></span> <span class="op">(</span><span class="va">city</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span> <span class="op">(</span><span class="va">net</span>, <span class="st">"mynetwork.Rds"</span><span class="op">)</span></span></code></pre></div>
<p>The gender of all streets can then be appended to the network data with the <code><a href="reference/gender_streetnet.html">gender_streetnet()</a></code> function, which also accepts an additional parameter, <code>wt_profile</code>, used to specify the weighting profile from <a href="https://atfutures.github.io/dodgr/reference/weighting_profiles.html" class="external-link">the profiles of the <code>dodgr</code> package</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span> <span class="op">(</span><span class="va"><a href="https://github.com/mpadge/gender-conscious-routing" class="external-link">genderconsciousrouting</a></span><span class="op">)</span></span>
<span><span class="va">net</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/gender_streetnet.html">gender_streetnet</a></span> <span class="op">(</span><span class="va">dat</span>, wt_profile <span class="op">=</span> <span class="st">"foot"</span><span class="op">)</span></span></code></pre></div>
<p>Gender-conscious routes can then be generated by specifying start and end points. The following example selects random points from the network vertices.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu">dodgr</span><span class="fu">::</span><span class="fu"><a href="https://UrbanAnalyst.github.io/dodgr/reference/dodgr_vertices.html" class="external-link">dodgr_vertices</a></span> <span class="op">(</span><span class="va">net</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span> <span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span> <span class="op">(</span><span class="va">v</span><span class="op">$</span><span class="va">id</span>, size <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span></span>
<span><span class="va">stop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span> <span class="op">(</span><span class="va">v</span><span class="op">$</span><span class="va">id</span>, size <span class="op">=</span> <span class="fl">1L</span><span class="op">)</span></span></code></pre></div>
<p>Those <code>id</code> values are the Open Street Map identifiers of two random vertices (or “nodes” in Open Street Map terms) of the network. Finally, the following code calculates the path between them which traverses the greatest proportional length along streets named after women:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/conscious_route.html">conscious_route</a></span> <span class="op">(</span><span class="va">net</span>, start <span class="op">=</span> <span class="va">start</span>, stop <span class="op">=</span> <span class="va">stop</span><span class="op">)</span></span>
<span><span class="co">#&gt; $p_stats</span></span>
<span><span class="co">#&gt;         d_female  d_male    d_non  p_female     p_male     p_non path_length path_length_rel</span></span>
<span><span class="co">#&gt; default    0.000 190.454 8277.046 0.0000000 0.02249235 0.9775076     8467.50        1.000000</span></span>
<span><span class="co">#&gt; female  1826.583 335.371 8083.941 0.1782746 0.03273223 0.7889932    10245.89        1.210026</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $paths</span></span>
<span><span class="co">#&gt;      type                       geometry</span></span>
<span><span class="co">#&gt; 1 default LINESTRING (6.166698 50.812...</span></span>
<span><span class="co">#&gt; 2  female LINESTRING (6.166698 50.812...</span></span>
<span><span class="co">#n&gt;</span></span>
<span><span class="co">#&gt; $points</span></span>
<span><span class="co">#&gt;               x        y    colour</span></span>
<span><span class="co">#&gt; 25722  6.166698 50.81288 #44FF22FF</span></span>
<span><span class="co">#&gt; 137140 6.020574 50.75566 #FF4422FF</span></span></code></pre></div>
<p>The function returns a list of the following three items:</p>
<ol style="list-style-type: decimal">
<li>
<code>p_stats</code> providing statistics on absolute and relative distances along the types of ways (where “non” suffixes denote ways not named after people).</li>
<li>
<code>paths</code> providing the path geometries, both of the gender-conscious route, and the “default” route which does not follow gender conscious paths; and</li>
<li>
<code>points</code> with locations of the specified start and end points, along with colour codes which can be used to clearly indicate those points on interactive maps.</li>
</ol>
<hr>
</div>
<div class="section level2">
<h2 id="aggregate-statistics-for-a-whole-city">Aggregate statistics for a whole city<a class="anchor" aria-label="anchor" href="#aggregate-statistics-for-a-whole-city"></a>
</h2>
<p>Aggregate analyses of statistics on the gender of street names can be seen in <a href="https://equalstreetnames.org/" class="external-link">the EqualStreetNames project</a>, which currently provides interactive visualisations for 45 cities around the world. The results are, however, static, and only quantify overall proportions regardless of where streets are located. Many cities consciously name central avenues or boulevards after men, while streets named after women may be placed in peripheral locations rarely traversed by the general population. A more appropriate way to quantify statistics on relative gender proportions is to weight gendered streets by their importance within the spatially-explicit context of the entire street network. The most direct way to do that is to weight each gender-specific street segment by its corresponding network centrality, so that central segments traversed by large numbers of people contribute more than peripheral segments. The <code>genderconsciousrouting</code> package has an additional function which performs these analyses for a given city.</p>
<p>The function works by tracing routes between randomly sampled points in a network, with a default to calculate all possible paths between all pairs of vertices in the street network. This function takes considerably more time to calculate than the simple route function demonstrated above, and it is recommended to first specify a value for the number of sampled points of around 1,000. The time taken can then be scaled by the default total number of points, which is equal to <code>nrow(dodgr_vertices(net))</code>, to estimate how long a full calculation might take.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">gcr_city</span> (net, <span class="at">n =</span> <span class="dv">1000</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>▶ Contracting street network ...</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>✔ Contracted street network</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>▶ Calculating <span class="fu">routes</span> (<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>) ...</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>▶ Calculated <span class="fu">routes</span> (<span class="dv">1</span><span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>✔ Calculating <span class="fu">routes</span> (<span class="dv">2</span><span class="sc">/</span><span class="dv">2</span>) ...</span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a>▶ Calculated <span class="fu">routes</span> (<span class="dv">2</span><span class="sc">/</span><span class="dv">2</span>)</span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="fu">print</span> (dat)</span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt;    wt_profile           category  proportion</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">#&gt; 1        foot          IS_FEMALE 0.002963653</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">#&gt; 2        foot            IS_MALE 0.021652605</span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">#&gt; 3        foot         NOT_A_NAME 0.975383742</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co">#&gt; 4        foot          IS_A_NAME 0.024616258</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="co">#&gt; 5        foot      IS_FEMALE_RAW 0.006148932</span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="co">#&gt; 6        foot        IS_MALE_RAW 0.025953586</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="co">#&gt; 7        foot     NOT_A_NAME_RAW 0.967897482</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="co">#&gt; 8        foot      IS_A_NAME_RAW 0.032102518</span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="co">#&gt; 9        foot         pedestrian 0.447916183</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="co">#&gt; 10       foot     vehicular_foot 0.500669268</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="co">#&gt; 11       foot     pedestrian_RAW 0.255423713</span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="co">#&gt; 12       foot vehicular_foot_RAW 0.697429330</span></span></code></pre></div>
<p>The first 8 statistics (with capitalised values for <code>category</code>) are divided between “raw” and weighted statistics, where the former are simple aggregate proportions of the type presented in <a href="https://equalstreetnames.org/" class="external-link">EqualStreetNames</a>, while those without the <code>_raw</code> suffix are weighted by network centrality, such that more central streets contribute more. The final four statistics quantify the proportions of journeys along dedicated infrastructure, and are primarily intended to quantify the relative prominence of dedicated pedestrian (<code>wt_profile = "foot"</code>) and bicycle (<code>wt_profile = "bicycle"</code>) infrastructure in cities. The <code>vehicular_foot</code> rows quantify the proportions of journeys or overall edge lengths (<code>_RAW</code>) for which pedestrian or bicycle infrastructure travels directly beside vehicular ways, rather than on dedicated infrastructure.</p>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mpadge/gender-conscious-routing/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/mpadge/gender-conscious-routing/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3" class="external-link">GPL-3</a></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing genderconsciousrouting</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Mark Padgham <br><small class="roles"> Author, maintainer </small>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/mpadge/gender-conscious-routing/actions?query=workflow%3AR-CMD-check" class="external-link"><img src="https://github.com/mpadge/gender-conscious-routing/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/mpadge/gender-conscious-routing" class="external-link"><img src="https://codecov.io/gh/mpadge/gender-conscious-routing/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="http://www.repostatus.org/#concept" class="external-link"><img src="http://www.repostatus.org/badges/latest/concept.svg" alt="Project Status: Concept"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Mark Padgham.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
